/*-------------------------------------------------------------------------------
*       (C) Copyright 2023, PSYM. All Rights Reserved 
*-------------------------------------------------------------------------------
* File name   : bsp_usart.c
* Description : 
* Author      : PSYM
*-------------------------------------------------------------------------------
* Update note:
* -----------   -----------   --------------------------------------------------
*    Date         Author                              Note
* -----------   -----------   --------------------------------------------------
* 2023-10-21       PSYM
*
**/

/* ---------------------------------- 包含头文件 ---------------------------------- */
#include ".\USART\bsp_usart.h"
#include "usart.h"

/* ---------------------------------- 私有宏定义 ---------------------------------- */
/* None. */

/* ---------------------------------- 私有类型定义 ---------------------------------- */
/* None. */

/* ---------------------------------- 私有变量 ---------------------------------- */
/* None. */

/* ---------------------------------- 扩展变量 ---------------------------------- */
/* None. */

/* ---------------------------------- 私有函数原型 ---------------------------------- */
/* None. */

/* ---------------------------------- 函数体 ---------------------------------- */

/**
 * @brief: None
 * @param: None
 * @return: None
 * @note: None
 */
void Usart_SendString(char *str)
{
    uint8_t i = 0;
    while (*(str + i) != '\0')
    {
        i++;
    }
    HAL_UART_Transmit(&huart1, (uint8_t *)str, i, 1000);
}

int fputc(int ch, FILE *f)
{
    HAL_UART_Transmit(&huart1, (uint8_t *)&ch, 1, 1000);
    return (ch);
}

int fgetc(FILE *f)
{
    int ch;
    HAL_UART_Receive(&huart1, (uint8_t *)&ch, 1, 1000);
    return (ch);
}
/*>>>>>>>>>> (C) COPYRIGHT PSYM <<<<<< >>>>>> END OF FILE <<<<<<<<<<*/
