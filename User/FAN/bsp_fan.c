/**
 *-------------------------------------------------------------------------------
 *       (C) Copyright 2024, PSYM. All Rights Reserved
 *-------------------------------------------------------------------------------
 * @file        : bsp_fan.c
 * Description  :
 * @author      : PSYM
 *-------------------------------------------------------------------------------
 * Update note:
 * -----------   -----------   --------------------------------------------------
 *    Date         Author                              Note
 * -----------   -----------   --------------------------------------------------
 * 2024-01-13       PSYM
 *
 **/

/* ---------------------------------- 包含头文件 ---------------------------------- */
#include "bsp_fan.h"

/* ---------------------------------- 私有宏定义 ---------------------------------- */
/* None. */

/* ---------------------------------- 私有类型定义 ---------------------------------- */
/* None. */

/* ---------------------------------- 私有变量 ---------------------------------- */
/* None. */

/* ---------------------------------- 扩展变量 ---------------------------------- */
/* None. */

/* ---------------------------------- 私有函数原型 ---------------------------------- */
/* None. */

/* ---------------------------------- 函数体 ---------------------------------- */

/**
 * @brief: None
 * @param: None
 * @return: None
 * @note: None
 */
void fan_start(void)
{
    HAL_TIM_PWM_Start(&FAN_htimx, FAN_CHANNEL);
}

void fan_stop(void)
{
    HAL_TIM_PWM_Stop(&FAN_htimx, FAN_CHANNEL);
}

void fan_set_speed(uint8_t *speed)
{
    if (*speed > FAN_PWM_MAX)
        *speed = FAN_PWM_MAX;
    if (*speed < 1)
        *speed = 0;
    __HAL_TIM_SET_COMPARE(&FAN_htimx, FAN_CHANNEL, *speed);
}
/*>>>>>>>>>> (C) COPYRIGHT PSYM <<<<<< >>>>>> END OF FILE <<<<<<<<<<*/
